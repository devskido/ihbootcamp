<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vercel Debug Page</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f5;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 {
            color: #333;
        }
        .test-section {
            margin: 20px 0;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 5px;
            border: 1px solid #dee2e6;
        }
        .success {
            color: #28a745;
        }
        .error {
            color: #dc3545;
        }
        pre {
            background: #f4f4f4;
            padding: 10px;
            border-radius: 5px;
            overflow-x: auto;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Vercel Deployment Debug Page</h1>
        
        <div class="test-section">
            <h2>JavaScript Execution Test</h2>
            <p id="js-test">JavaScript is NOT working ❌</p>
        </div>
        
        <div class="test-section">
            <h2>Environment Information</h2>
            <pre id="env-info">Loading...</pre>
        </div>
        
        <div class="test-section">
            <h2>Test Links</h2>
            <ul>
                <li><a href="/day09/profile-generator/">Day 09 - Profile Generator</a></li>
                <li><a href="/day10/score-calculator/">Day 10 - Score Calculator</a></li>
            </ul>
        </div>
    </div>
    
    <script>
        // Test if JavaScript is executing
        document.getElementById('js-test').innerHTML = '<span class="success">JavaScript is working! ✅</span>';
        
        // Gather environment information
        const envInfo = {
            'User Agent': navigator.userAgent,
            'Platform': navigator.platform,
            'Language': navigator.language,
            'Cookies Enabled': navigator.cookieEnabled,
            'Online Status': navigator.onLine,
            'Current URL': window.location.href,
            'Protocol': window.location.protocol,
            'Hostname': window.location.hostname,
            'Pathname': window.location.pathname,
            'Timestamp': new Date().toISOString()
        };
        
        // Display environment information
        let infoHtml = '';
        for (const [key, value] of Object.entries(envInfo)) {
            infoHtml += `${key}: ${value}\n`;
        }
        document.getElementById('env-info').textContent = infoHtml;
        
        // Test console output
        console.log('=== Vercel Debug Information ===');
        console.log('JavaScript is executing properly');
        console.log('Environment:', envInfo);
        
        // Test dynamic script loading
        console.log('Testing dynamic script loading...');
        
        // Test 1: Profile generator script
        const testScript1 = document.createElement('script');
        testScript1.src = '/day09/profile-generator/profile.js';
        testScript1.onload = () => console.log('✅ Profile.js loaded successfully');
        testScript1.onerror = () => console.error('❌ Profile.js failed to load');
        document.head.appendChild(testScript1);
        
        // Test 2: Score calculator script
        const testScript2 = document.createElement('script');
        testScript2.src = '/day10/score-calculator/score.js';
        testScript2.onload = () => console.log('✅ Score.js loaded successfully');
        testScript2.onerror = () => console.error('❌ Score.js failed to load');
        
        // Delay score.js to avoid prompt conflict
        setTimeout(() => {
            document.head.appendChild(testScript2);
        }, 2000);
        
        // Test 3: Check MIME types via fetch
        fetch('/day09/profile-generator/profile.js')
            .then(response => {
                console.log('Profile.js MIME type:', response.headers.get('Content-Type'));
                return response.text();
            })
            .then(text => console.log('✅ Profile.js content loaded, length:', text.length))
            .catch(err => console.error('❌ Profile.js fetch error:', err));
    </script>
</body>
</html>